 
{#for h_with_index in history}
     <tr data-song-id="{h_with_index.history.song.id}" data-history-id="{h_with_index.history.id}">
         <td style="text-align:center;">
             <figure class="image is-24x24">
                 <img src="{artworkUrl.apply(h_with_index.history.song.artworkBase64)}" loading="lazy"/>
             </figure>
         </td>
         <td class="is-size-7" style="width:90%; cursor: pointer;" 
             hx-post="/api/music/playback/select/{profileId}/{h_with_index.history.song.id}"
             hx-trigger="click"
             hx-swap="none"
             hx-indicator="#loadingRow">
             <span>{h_with_index.history.song.title ?: "Unknown"}</span><br>
             <span class="has-text-success is-size-7">{h_with_index.history.song.artist ?: "Unknown"}</span>
         </td>
     </tr>
     {/for}
{#if totalPages > 1}
<tr>
    <td colspan="3">
        <nav class="pagination is-centered py-4" role="navigation" aria-label="pagination">
            <a class="pagination-previous"
               {#if currentPage > 1}
                   onclick="loadHistoryPage({currentPage - 1}, {profileId})"
               {#else}
                   disabled
               {/if}>
                Previous
            </a>
            <a class="pagination-next"
               {#if currentPage < totalPages}
                   onclick="loadHistoryPage({currentPage + 1}, {profileId})"
               {#else}
                   disabled
               {/if}>
                Next
            </a>
            <ul class="pagination-list">
                {#for p in pageNumbers}
                    {#if p == -1}
                        <li><span class="pagination-ellipsis">&hellip;</span></li>
                    {#else if p == currentPage}
                        <li><a class="pagination-link is-current" aria-label="Page {p}" aria-current="page">{p}</a></li>
                    {#else}
                        <li>
                            <a class="pagination-link"
                               aria-label="Goto page {p}"
                               onclick="loadHistoryPage({p}, {profileId})">
                                {p}
                            </a>
                        </li>
                    {/if}
                {/for}
            </ul>
        </nav>
    </td>
</tr>
{/if}