<div class="mobile-song-list mobile-queue">
    {#for s_with_index in queue}
    <div class="mobile-song-item" 
         hx-post="/api/music/playback/select/{profileId}/{s_with_index.song.id}"
         hx-trigger="click"
         hx-swap="none"
         data-song-id="{s_with_index.song.id}">
        <div class="mobile-song-artwork">
            <img src="{artworkUrl.apply(s_with_index.song.artworkBase64)}" loading="lazy" alt="Artwork">
        </div>
        <div class="mobile-song-info">
            <div class="mobile-song-title">{s_with_index.song.title ?: "Unknown Title"}</div>
            <div class="mobile-song-artist">{s_with_index.song.artist ?: "Unknown Artist"}</div>
        </div>
        <button class="mobile-queue-remove" 
                onclick="handleQueueAction('remove', {s_with_index.index}, {profileId})">
            <i class="pi pi-times"></i>
        </button>
    </div>
    {/for}
</div>

{#if totalPages > 1}
<div class="mobile-pagination-simple">
    <!-- Page info -->
    <div class="mobile-pagination-info">
        Page {currentPage} of {totalPages}
    </div>
    
    <!-- Previous/Next buttons -->
    <div class="mobile-pagination">
        <button class="mobile-pagination-prev"
                {#if currentPage > 1}
                    hx-get="/api/music/ui/mobile-queue-fragment/{profileId}?page={currentPage - 1}&limit={limit}"
                    hx-target="#mobileQueueContent"
                    hx-swap="innerHTML"
                {#else}
                    disabled
                {/if}>
            <i class="pi pi-chevron-left"></i> Previous
        </button>
        
        <button class="mobile-pagination-next"
                {#if currentPage < totalPages}
                    hx-get="/api/music/ui/mobile-queue-fragment/{profileId}?page={currentPage + 1}&limit={limit}"
                    hx-target="#mobileQueueContent"
                    hx-swap="innerHTML"
                {#else}
                    disabled
                {/if}>
            Next <i class="pi pi-chevron-right"></i>
        </button>
    </div>
    
    <!-- Page numbers -->
    {#if totalPages > 2}
    <div class="mobile-pagination-pages">
        {#for p in pageNumbers}
            {#if p == -1}
                <span class="mobile-pagination-ellipsis">...</span>
            {#else if p == currentPage}
                <span class="mobile-pagination-page is-current">{p}</span>
            {#else}
                <a class="mobile-pagination-page"
                   hx-get="/api/music/ui/mobile-queue-fragment/{profileId}?page={p}&limit={limit}"
                   hx-target="#mobileQueueContent"
                   hx-swap="innerHTML">
                    {p}
                </a>
            {/if}
        {/for}
    </div>
    {/if}
</div>
{/if}